<!DOCTYPE html>
<html>
<head>
  <title>Authentication complete</title>
</head>
<body>
  <p>Authentication will complete in around two seconds. If this does not happen automatically, please close the window.</p>
  <script>
    setTimeout(function() {
      const message = {
        'flutter-web-auth-2': window.location.href
      };

      if (window.opener) {
        window.opener.postMessage(message, window.location.origin);
        window.close();
      } else if (window.parent && window.parent !== window) {
        window.parent.postMessage(message, window.location.origin);
      } else {
        localStorage.setItem('flutter-web-auth-2', window.location.href);
        window.close();
      }
    }, 2000);
  </script>
</body>
</html>
